<!DOCTYPE html>
<html
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
>
	<h:head>
		<link
			href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
			rel="stylesheet"
			integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN"
			crossorigin="anonymous"
		/>
		<script
			src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
			integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
			crossorigin="anonymous"
		></script>
	</h:head>

	<h:body>
		<nav class="navbar navbar-expand-lg bg-dark p-3">
			<div class="container-fluid">
				<a class="navbar-brand text-light" href="#">Materiel App</a>
				<button
					class="navbar-toggler"
					type="button"
					data-bs-toggle="collapse"
					data-bs-target="#navbarSupportedContent"
					aria-controls="navbarSupportedContent"
					aria-expanded="false"
					aria-label="Toggle navigation"
				>
					<span class="navbar-toggler-icon"></span>
				</button>
				<div class="collapse navbar-collapse" id="navbarSupportedContent">
					<ul class="navbar-nav nav-tabs me-auto mb-2 mb-lg-0">
						<li class="nav-item">
							<h:link
								class="nav-link text-light"
								outcome="index"
								value="All Materiels"
							/>
						</li>
						<li class="nav-item">
							<h:link
								class="nav-link text-light"
								outcome="sell"
								value="Sell Materiel"
							/>
						</li>
						<div class="btn-group">
							<button
								type="button"
								class="btn btn-secondary dropdown-toggle bg-dark border-0"
								data-bs-toggle="dropdown"
								aria-expanded="false"
							>
								Condition filter
							</button>
							<ul class="dropdown-menu dropdown-menu-end bg-dark">
								<li>
									<button class="dropdown-item bg-dark" type="button">
										<h:link
											class="nav-link text-light"
											outcome="flawless"
											value="Flawless Materiels"
										/>
									</button>
								</li>
								<li>
									<button class="dropdown-item bg-dark" type="button">
										<h:link
											class="nav-link text-light"
											outcome="bad"
											value="Bad Materiels"
										/>
									</button>
								</li>
								<li>
									<button class="dropdown-item bg-dark" type="button">
										<h:link
											class="nav-link text-light"
											outcome="average"
											value="Average Materiels"
										/>
									</button>
								</li>
								<li>
									<button class="dropdown-item bg-dark" type="button">
										<h:link
											class="nav-link text-light"
											outcome="good"
											value="Good condition Materiels"
										/>
									</button>
								</li>
							</ul>
						</div>
					</ul>
					<form class="d-flex" role="search">
						<input
							class="form-control me-2"
							type="search"
							placeholder="Search"
							aria-label="Search"
						/>
						<button class="btn btn-outline-success" type="submit">
							Search
						</button>
					</form>
				</div>
			</div>
		</nav>
		<h1 class="text-center my-5">Welcome to your Materiel App</h1>

		<section class="container">
			<h2 class="text-center my-5">List of items for sale</h2>
			<div class="row">
				<c:if test="${empty materielService.materiels}">
					<div class="alert alert-dark" role="alert">
						<div
							class="row flex-column justify-content-center align-items-center"
						>
							<p class="col-12 text-center">
								Nothing to display. Please add your Materiel before
							</p>
							<button type="button" class="btn btn-dark col-md-3">
								<h:link
									class="nav-link text-light"
									outcome="sell"
									value="Add your Materiel"
								/>
							</button>
						</div>
					</div>
				</c:if>

				<ul
					class="d-flex flex-wrap justify-content-center align-items-between col-12 gap-3"
				>
					<c:forEach var="materiel" items="${materielService.materiels}">
						<div class="card" style="width: 18rem">
							<div
								class="card-body d-flex flex-column align-items-center justify-content-center"
							>
								<h5 class="card-title mb-3">${materiel.title}</h5>

								<div class="text-start">
									<p class="card-text">
										<strong>description :</strong> ${materiel.description}
									</p>
									<p class="card-link">
										<strong>Price :</strong> ${materiel.price} $
									</p>
									<p class="card-link ms-0">
										<strong>Contact :</strong> ${materiel.contact}
									</p>
									<p class="card-link ms-0">
										<strong>Status :</strong> ${materiel.status}
									</p>
									<h:form>
										<h:commandButton
											action="#{materielService.deleteMateriel(materiel)}"
											class="my-5 btn btn-danger"
											value="Delete materiel"
										>
										</h:commandButton>
									</h:form>
								</div>
							</div>
						</div>
					</c:forEach>
				</ul>
			</div>
		</section>
	</h:body>
</html>
